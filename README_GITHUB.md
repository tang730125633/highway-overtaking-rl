# ğŸš— é«˜é€Ÿå…¬è·¯è¶…è½¦å¼ºåŒ–å­¦ä¹ ç³»ç»Ÿ

[![Streamlit App](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://share.streamlit.io)
[![Python 3.10](https://img.shields.io/badge/python-3.10-blue.svg)](https://www.python.org/downloads/release/python-3100/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> åŸºäºå¼ºåŒ–å­¦ä¹ çš„é«˜é€Ÿå…¬è·¯è‡ªåŠ¨è¶…è½¦å†³ç­–ç³»ç»Ÿ - å®Œæ•´çš„ç ”ç©¶é¡¹ç›®ä¸å¯è§†åŒ–ç•Œé¢

---

## ğŸŒŸ åœ¨çº¿ä½“éªŒ

**ğŸ® [ç‚¹å‡»è¿™é‡Œè®¿é—®åœ¨çº¿æ¼”ç¤º](https://share.streamlit.io)** â† æ— éœ€å®‰è£…ï¼Œç›´æ¥ä½¿ç”¨ï¼

---

## ğŸ“š é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„é«˜é€Ÿå…¬è·¯è‡ªåŠ¨è¶…è½¦å†³ç­–ç³»ç»Ÿï¼Œå¯¹æ¯”äº†**è§„åˆ™åŸºçº¿**ã€**å¼ºåŒ–å­¦ä¹ (PPO)** å’Œ **å®‰å…¨çº¦æŸå¼ºåŒ–å­¦ä¹ (RL+Safety Shield)** ä¸‰ç§æ–¹æ³•ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- âœ… **é«˜é€Ÿå…¬è·¯ä»¿çœŸç¯å¢ƒ** - åŸºäº highway-env çš„çœŸå®äº¤é€šæ¨¡æ‹Ÿ
- âœ… **è§„åˆ™åŸºçº¿ç­–ç•¥** - åŸºäºå®‰å…¨è·ç¦»çš„çŠ¶æ€æœºå†³ç­–
- âœ… **PPOå¼ºåŒ–å­¦ä¹ ** - ä½¿ç”¨ Stable-Baselines3 è®­ç»ƒçš„è‡ªä¸»å†³ç­–ç­–ç•¥
- âœ… **Safety Shield** - åŠ¨ä½œè¿‡æ»¤å±‚ï¼Œä¿è¯å®‰å…¨çº¦æŸ
- âœ… **å®Œæ•´è¯„æµ‹ä½“ç³»** - 3å¯†åº¦ Ã— 3ç§å­ Ã— 3æ–¹æ³• = 27ç»„å¯¹æ¯”å®éªŒ
- âœ… **å¯è§†åŒ–Webç•Œé¢** - åŸºäº Streamlit çš„äº¤äº’å¼ç•Œé¢

---

## ğŸ–¼ï¸ ç•Œé¢é¢„è§ˆ

### ä¸»æ§é¢æ¿
![Dashboard](https://via.placeholder.com/800x400/1f77b4/ffffff?text=Dashboard+-+é¡¹ç›®æ€»è§ˆ)

### äº¤äº’å¼è¯„æµ‹
![Evaluation](https://via.placeholder.com/800x400/2ca02c/ffffff?text=Interactive+Evaluation+-+å®æ—¶è¯„æµ‹)

### ç»“æœå¯è§†åŒ–
![Results](https://via.placeholder.com/800x400/ff7f0e/ffffff?text=Results+Visualization+-+æ•°æ®åˆ†æ)

---

## ğŸ“Š å®éªŒç»“æœ

| æ–¹æ³• | æˆåŠŸç‡ | ç¢°æ’ç‡ | è¿è§„ç‡ | ç‰¹ç‚¹ |
|------|--------|--------|--------|------|
| **è§„åˆ™åŸºçº¿** | 15-25% | 0-10% | 50-70% | ç¨³å®šä½†ä¿å®ˆ |
| **RL (PPO)** | 0% | 45-60% | 40-60% | è®­ç»ƒä¸è¶³* |
| **RL+Safety** | 10-20% | 20-40% | 20-40% | **å®‰å…¨æ€§æå‡** |

> *è®­ç»ƒæ­¥æ•°ä»…100kï¼Œå¢åŠ åˆ°300k-500kå¯æ˜¾è‘—æå‡æ€§èƒ½

**å…³é”®å‘ç°**ï¼šSafety Shieldå°†ç¢°æ’ç‡ä»60%é™ä½è‡³20-40%ï¼Œè¯æ˜äº†å®‰å…¨çº¦æŸæœºåˆ¶çš„æœ‰æ•ˆæ€§ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šåœ¨çº¿ä½“éªŒï¼ˆæ¨èï¼‰

ç›´æ¥è®¿é—® â†’ **[åœ¨çº¿æ¼”ç¤ºé“¾æ¥](https://share.streamlit.io)** â† æ— éœ€ä»»ä½•é…ç½®ï¼

### æ–¹å¼äºŒï¼šæœ¬åœ°è¿è¡Œ

#### Windows
```cmd
1. è§£å‹é¡¹ç›®æ–‡ä»¶å¤¹
2. åŒå‡» setup.bat å®‰è£…ç¯å¢ƒ
3. åŒå‡» start_app.bat å¯åŠ¨Webç•Œé¢
```

#### Mac/Linux
```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/YOUR_USERNAME/highway-overtaking-rl.git
cd highway-overtaking-rl

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å¯åŠ¨Webç•Œé¢
python -m streamlit run app.py
```

æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ï¼š`http://localhost:8501`

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **ç¯å¢ƒ**: [highway-env](https://github.com/Farama-Foundation/HighwayEnv) 1.10.2
- **å¼ºåŒ–å­¦ä¹ **: [Stable-Baselines3](https://github.com/DLR-RM/stable-baselines3) 2.7.1
- **æ·±åº¦å­¦ä¹ **: PyTorch 2.10.0
- **å¯è§†åŒ–**: Streamlit 1.28+ / Plotly 5.17+

### ç®—æ³•
- **PPO** (Proximal Policy Optimization) - ä¸»è¦RLç®—æ³•
- **Safety Shield** - åŸºäºè§„åˆ™çš„å®‰å…¨è¿‡æ»¤å±‚
- **State Machine** - è§„åˆ™åŸºçº¿å†³ç­–é€»è¾‘

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
highway_overtaking_rl/
â”œâ”€â”€ app.py                      # Streamlit Webåº”ç”¨ä¸»ç¨‹åº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ env/
â”‚   â”‚   â””â”€â”€ overtaking_env.py   # ç¯å¢ƒå°è£…
â”‚   â”œâ”€â”€ baseline/
â”‚   â”‚   â”œâ”€â”€ rule_based.py       # è§„åˆ™åŸºçº¿ç­–ç•¥
â”‚   â”‚   â””â”€â”€ evaluate_baseline.py
â”‚   â”œâ”€â”€ rl/
â”‚   â”‚   â”œâ”€â”€ train.py            # PPOè®­ç»ƒ
â”‚   â”‚   â”œâ”€â”€ evaluate.py         # RLè¯„æµ‹
â”‚   â”‚   â””â”€â”€ safety_shield.py    # å®‰å…¨çº¦æŸå±‚
â”‚   â”œâ”€â”€ metrics/
â”‚   â”‚   â””â”€â”€ evaluator.py        # æŒ‡æ ‡è®¡ç®—
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ config_loader.py
â”‚       â””â”€â”€ visualize.py        # å›¾è¡¨ç”Ÿæˆ
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ env_config.yaml         # ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ train_config.yaml       # è®­ç»ƒé…ç½®
â”‚   â””â”€â”€ eval_config.yaml        # è¯„æµ‹é…ç½®
â”œâ”€â”€ outputs/
â”‚   â”œâ”€â”€ models/                 # è®­ç»ƒå¥½çš„æ¨¡å‹
â”‚   â”œâ”€â”€ results/                # è¯„æµ‹ç»“æœ(JSON+CSV)
â”‚   â””â”€â”€ figures/                # è®ºæ–‡å›¾è¡¨(PNG)
â””â”€â”€ docs/                       # å®Œæ•´æ–‡æ¡£
```

---

## ğŸ“ˆ ä½¿ç”¨åœºæ™¯

### 1. å­¦æœ¯ç ”ç©¶
- å¼ºåŒ–å­¦ä¹ ç®—æ³•å¯¹æ¯”ç ”ç©¶
- å®‰å…¨çº¦æŸæœºåˆ¶éªŒè¯
- æ¯•ä¸šè®ºæ–‡/è¯¾ç¨‹é¡¹ç›®

### 2. æ•™å­¦æ¼”ç¤º
- å¼ºåŒ–å­¦ä¹ å…¥é—¨æ•™å­¦
- è‡ªåŠ¨é©¾é©¶å†³ç­–å±•ç¤º
- äº¤äº’å¼å®éªŒå¹³å°

### 3. äºŒæ¬¡å¼€å‘
- å®Œæ•´çš„ä»£ç æ¡†æ¶
- è¯¦ç»†çš„é…ç½®æ–‡ä»¶
- å¯æ‰©å±•çš„æ¨¡å—è®¾è®¡

---

## ğŸ“ è®ºæ–‡æ”¯æŒ

æœ¬é¡¹ç›®æä¾›å®Œæ•´çš„è®ºæ–‡å†™ä½œæ”¯æŒï¼š

### ç¬¬2ç« ï¼šç¯å¢ƒè®¾è®¡
- ç¯å¢ƒé…ç½®ï¼š`configs/env_config.yaml`
- å®ç°ä»£ç ï¼š`src/env/overtaking_env.py`

### ç¬¬3ç« ï¼šåŸºçº¿æ–¹æ³•
- ç­–ç•¥å®ç°ï¼š`src/baseline/rule_based.py`
- è¯„æµ‹ç»“æœï¼š`outputs/results/baseline_*.json`

### ç¬¬4ç« ï¼šå¼ºåŒ–å­¦ä¹ 
- è®­ç»ƒä»£ç ï¼š`src/rl/train.py`
- ç®—æ³•é…ç½®ï¼š`configs/train_config.yaml`
- è¯„æµ‹ç»“æœï¼š`outputs/results/rl_*.json`

### ç¬¬5ç« ï¼šå®‰å…¨çº¦æŸ
- Shieldå®ç°ï¼š`src/rl/safety_shield.py`
- è¯„æµ‹ç»“æœï¼š`outputs/results/rl_safety_*.json`
- å¹²é¢„ç»Ÿè®¡ï¼š46.92%å¹²é¢„ç‡

### ç¬¬6ç« ï¼šå®éªŒç»“æœ
- å¯è§†åŒ–å›¾è¡¨ï¼š`outputs/figures/*.png`
- è¯¦ç»†æ•°æ®ï¼šæ‰€æœ‰JSONå’ŒCSVæ–‡ä»¶

---

## ğŸ“Š æ•°æ®è¯´æ˜

### è¯„æµ‹æŒ‡æ ‡
- **æˆåŠŸç‡**ï¼šå®Œæˆè¶…è½¦çš„episodeæ¯”ä¾‹
- **ç¢°æ’ç‡**ï¼šå‘ç”Ÿç¢°æ’çš„episodeæ¯”ä¾‹
- **è¿è§„ç‡**ï¼šå‘ç”Ÿè¿è§„è¡Œä¸ºçš„episodeæ¯”ä¾‹
- **å¹³å‡å¥–åŠ±**ï¼šepisodeå¹³å‡ç´¯ç§¯å¥–åŠ±
- **å¹³å‡é€Ÿåº¦**ï¼šepisodeå¹³å‡è¡Œé©¶é€Ÿåº¦
- **Episodeé•¿åº¦**ï¼šå¹³å‡å†³ç­–æ­¥æ•°

### æ–‡ä»¶æ ¼å¼
- **JSON**: æ±‡æ€»æŒ‡æ ‡ï¼ˆ27ä¸ªæ–‡ä»¶ï¼‰
- **CSV**: è¯¦ç»†æ•°æ®ï¼ˆ27ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªåŒ…å«20ä¸ªepisodesï¼‰
- **PNG**: å¯è§†åŒ–å›¾è¡¨ï¼ˆ2å¼ å¯¹æ¯”å›¾ï¼‰

---

## âš™ï¸ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, macOS, Linux
- **Python**: 3.8 - 3.10ï¼ˆâš ï¸ ä¸æ”¯æŒ3.14ï¼‰
- **å†…å­˜**: å»ºè®® â‰¥8GB
- **ç¡¬ç›˜**: â‰¥2GB ç©ºé—²ç©ºé—´

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ“® è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: [GitHub Repository](https://github.com/YOUR_USERNAME/highway-overtaking-rl)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/YOUR_USERNAME/highway-overtaking-rl/issues)

---

## ğŸ™ è‡´è°¢

- [highway-env](https://github.com/Farama-Foundation/HighwayEnv) - é«˜é€Ÿå…¬è·¯ä»¿çœŸç¯å¢ƒ
- [Stable-Baselines3](https://github.com/DLR-RM/stable-baselines3) - å¼ºåŒ–å­¦ä¹ ç®—æ³•åº“
- [Streamlit](https://streamlit.io/) - Webåº”ç”¨æ¡†æ¶

---

## ğŸ“š ç›¸å…³èµ„æº

- [å¼ºåŒ–å­¦ä¹ å…¥é—¨æ•™ç¨‹](https://spinningup.openai.com/)
- [PPOç®—æ³•è®ºæ–‡](https://arxiv.org/abs/1707.06347)
- [Gymnasiumæ–‡æ¡£](https://gymnasium.farama.org/)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼**

---
